# 数据库
IPASS_DB_DSN="user:pass@tcp(127.0.0.1:3306)/lingxingipass?parseTime=true&charset=utf8mb4&loc=UTC"

# 日志（JSON Lines）
IPASS_LOG_DIR="logs"

# 可靠性（系统配置）
# - 同一 dscoOrderId 在单个环节的最大重试次数；达到上限后转人工，避免无限重试
IPASS_MAX_RETRY_PER_ORDER="5"

# HTTP 管理端（一期最小运维面）
IPASS_HTTP_ENABLE="true"
IPASS_HTTP_ADDR=":8080"

# 业务进程 ops 接口鉴权密码（admin 将通过请求头 X-Ops-Password 调用）
IPASS_OPS_PASSWORD="change-me-ops"

# DSCO（一期：请求头静态 bearer token）
IPASS_DSCO_BASE_URL="https://api.dsco.io/api/v3"
IPASS_DSCO_TOKEN="bearer-token-here"

# 领星（openapi）
IPASS_LINGXING_BASE_URL="https://openapi.lingxing.com"
IPASS_LINGXING_APP_ID="1234567890abcdef"
IPASS_LINGXING_ACCESS_TOKEN="access-token-here"

# 领星推单固定参数（一期写死在配置）
IPASS_LINGXING_PLATFORM_CODE="10009"
IPASS_LINGXING_STORE_ID="110418202566107648"

# 领星 WMS/仓库接口参数
IPASS_LINGXING_SID="26"

# 调度：心跳
IPASS_HEARTBEAT_INTERVAL_SEC="10"

# Step3：拉取 DSCO 订单（增量）
IPASS_JOB_PULL_DSCO_ORDERS_ENABLE="false"
IPASS_JOB_PULL_DSCO_ORDERS_INTERVAL_SEC="30"

# Step4：推单到领星
IPASS_JOB_PUSH_ORDERS_TO_LINGXING_ENABLE="false"
IPASS_JOB_PUSH_ORDERS_TO_LINGXING_INTERVAL_SEC="30"
IPASS_JOB_PUSH_ORDERS_TO_LINGXING_BATCH_SIZE="50"

# Step5：ACK 回传 DSCO
IPASS_JOB_ACK_TO_DSCO_ENABLE="false"
IPASS_JOB_ACK_TO_DSCO_INTERVAL_SEC="30"

# Step6：发货回传 DSCO
IPASS_JOB_SHIP_TO_DSCO_ENABLE="false"
IPASS_JOB_SHIP_TO_DSCO_INTERVAL_SEC="30"

# 发货回传口径（业务配置）
# - delivered_at：使用领星 WMS delivered_at 作为 DSCO shipDate
# - stock_delivered_at：使用领星 WMS stock_delivered_at 作为 DSCO shipDate
# - none：不回传 shipDate
IPASS_SHIP_DATE_SOURCE="delivered_at"

# Step7：发票回传 DSCO
IPASS_JOB_INVOICE_TO_DSCO_ENABLE="false"
IPASS_JOB_INVOICE_TO_DSCO_INTERVAL_SEC="60"
IPASS_JOB_INVOICE_TO_DSCO_BATCH_SIZE="50"

# Step8：库存同步 DSCO（可用库存）
IPASS_JOB_SYNC_STOCK_ENABLE="false"
IPASS_JOB_SYNC_STOCK_INTERVAL_SEC="300"
IPASS_JOB_SYNC_STOCK_BATCH_SIZE="200"

# 库存映射（一期：业务侧注入；这里用 env JSON 给一个示例）
# - WID -> DSCO warehouseCode（必填）
IPASS_STOCK_WID_TO_DSCO_WAREHOUSE_CODE_JSON="{\"26\":\"WH1\"}"
# - SKU -> DSCO SKU（可选，默认同名）
IPASS_STOCK_SKU_TO_DSCO_SKU_JSON="{\"LXSKU-1\":\"DSCOSKU-1\"}"

