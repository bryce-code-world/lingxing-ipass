base:
  # HTTP 监听地址（Admin UI + Admin API + healthz/readyz）。
  listen_addr: ":8080"
  # 服务环境：dev/test/release
  env: "dev"

api:
  # 是否对外暴露 /api/v1/*（建议默认 false，按部署环境决定是否开启）
  enable: false
  # 对外 API Bearer Token（部署级机密；不要写进 runtime_config）
  token: "CHANGE_ME"

db:
  # 优先使用 DSN；为空时按 postgres 组装。
  dsn: ""
  postgres:
    host: "127.0.0.1"
    port: 5432
    user: "root"
    password: "123456"
    dbName: "lingxingipass"
    sslMode: "disable"
    timeZone: "UTC"
    clientEncoding: "UTF8"
    searchPath: "public"
    connectTimeout: 5s
    statementTimeout: 0s
    applicationName: "lingxingipass"
    preferSimpleProtocol: false
    params: {}
  pool:
    maxOpenConns: 20
    maxIdleConns: 10
    connMaxLifetime: 30m
    connMaxIdleTime: 10m
  gorm:
    skipDefaultTransaction: true
    prepareStmt: false
  startupCheck:
    enabled: true
    timeout: 5s
  logger:
    enabled: true
    level: "warn"
    slowThreshold: 500ms
    ignoreRecordNotFoundError: true

admin:
  # Admin 登录密码（单密码模式）
  password: "change-me"
  # Admin UI 展示时区（仅展示；不影响 DB/任务执行）。例：UTC / Asia/Shanghai
  display_timezone: "UTC"
  export:
    # CSV 导出文件落地目录（服务部署机器的磁盘路径）
    dir: "./exports"
    # 导出/手动拉单允许的最大时间跨度（天）
    max_range_days: 365
    # 导出目录清理阈值（字节）。超过则触发清理（按文件 mtime 删除旧文件）
    cleanup_threshold_bytes: 104857600

log:
  # 日志目录（为空默认 ./logs；一期默认同时输出 stdout）
  dir: "./logs"
  maxSizeMB: 128
  maxBackups: 30
  maxAgeDays: 7
  compress: true
  stdout: true

auth:
  dsco:
    # DSCO API Token（长期有效）
    token: ""
  lingxing:
    # 领星 AppID/AppSecret（长期有效；SDK 开启 AutoToken 自动获取/续约 access_token）
    app_id: ""
    app_secret: ""

integration:
  dsco:
    # 可选：为空则使用 SDK 默认 BaseURLProd（https://api.dsco.io/api/v3）
    base_url: ""
  lingxing:
    # 可选：为空则使用 SDK 默认 BaseURLProd（https://openapi.lingxing.com）
    base_url: ""
    platform_code: 0
    # store_id / sid 均不放在 env.yaml：
    # - store_id：由 DSCO 订单的 dscoRetailerId 通过 runtime_config.mapping.shop 映射得到
    # - sid：由 DSCO 订单的 shippingServiceLevelCode 通过 runtime_config.mapping.shipment 映射得到
